import{j as e}from"./jsx-runtime.3a2d0367.js";import{r as o}from"./index.b2a7ed32.js";const y=({className:h})=>{const[r,m]=o.useState(!1),[l,i]=o.useState([]),[n,d]=o.useState(!1),[x,p]=o.useState(!0),c=o.useRef(null),[b,f]=o.useState(!1);o.useEffect(()=>{const s=setTimeout(()=>{l.length===0&&(a("¬°Hola! üëã Soy el asistente virtual de Mateo."),setTimeout(()=>{a("¬øEn qu√© puedo ayudarte hoy?",["Ver Portafolio üé®","Cotizar Servicio üöÄ","Soporte Tienda üõí","Hablemos üí¨"])},800))},2e3);return()=>clearTimeout(s)},[]);const w=()=>{c.current?.scrollIntoView({behavior:"smooth"})};o.useEffect(()=>{w()},[l,n,r]);const u=()=>{m(!r),p(!1),f(!0)},a=(s,t)=>{d(!0),setTimeout(()=>{d(!1),i(j=>[...j,{id:Date.now(),text:s,sender:"bot",options:t}])},1200)},g=s=>{i(t=>[...t,{id:Date.now(),text:s,sender:"user"}]),v(s)},v=s=>{const t=s.toLowerCase();t.includes("portafolio")?a("¬°Excelente elecci√≥n! Puedes ver mis proyectos m√°s recientes en la secci√≥n de 'Work'.",["Ir a Portafolio","Volver al men√∫"]):t.includes("cotizar")?a("Me encantar√≠a colaborar contigo. ¬øQu√© tipo de proyecto tienes en mente?",["Web App / Sitio Web üåê","Dise√±o UX/UI üñåÔ∏è","E-commerce üè¶","Otro"]):t.includes("tienda")||t.includes("soporte")?a("Para temas de la tienda, revisa la secci√≥n 'Shop' o escr√≠beme directamente si tuviste un problema con una compra.",["Ir a la Tienda","Contactar Soporte"]):t.includes("hablemos")||t.includes("contactar")?a("Puedes escribirme directamente a mi WhatsApp para una respuesta r√°pida.",["Abrir WhatsApp üì±"]):t.includes("web")||t.includes("design")||t.includes("e-commerce")?a("¬°Genial! Ese es mi fuerte. Te sugiero que me env√≠es los detalles por WhatsApp para darte un estimado.",["Abrir WhatsApp üì±"]):t.includes("ir a portafolio")?window.location.href="/work/":t.includes("ir a la tienda")?window.location.href="/shop/":t.includes("abrir whatsapp")?window.open("https://wa.me/573005059987","_blank"):a("Entendido. ¬øDeseas saber algo m√°s?",["Ver Portafolio üé®","Cotizar Servicio üöÄ"])};return e.jsxs("div",{className:h||"fixed right-5 z-[5000] flex flex-col items-end gap-4 bottom-24",children:[e.jsxs("div",{className:`
                    w-[320px] sm:w-[350px]
                    bg-white/90 dark:bg-slate-900/90
                    backdrop-blur-xl border border-white/20 dark:border-slate-700/50
                    shadow-2xl rounded-2xl overflow-hidden
                    transition-all duration-300 origin-bottom-right
                    ${r?"opacity-100 scale-100 translate-y-0":"opacity-0 scale-90 translate-y-10 pointer-events-none absolute bottom-16"}
                `,children:[e.jsxs("div",{className:"bg-gradient-to-r from-violet-600 to-indigo-600 p-4 flex justify-between items-center text-white",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-white/20 flex items-center justify-center text-xl",children:"ü§ñ"}),e.jsx("span",{className:"absolute bottom-0 right-0 w-3 h-3 bg-green-400 border-2 border-indigo-600 rounded-full"})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-sm",children:"Asistente Virtual"}),e.jsx("p",{className:"text-xs text-indigo-200",children:"En l√≠nea ahora"})]})]}),e.jsx("button",{onClick:u,className:"text-white/80 hover:text-white transition p-1 hover:bg-white/10 rounded-full",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M18 6 6 18"}),e.jsx("path",{d:"m6 6 12 12"})]})})]}),e.jsxs("div",{className:"h-[350px] overflow-y-auto p-4 bg-slate-50 dark:bg-slate-800/50 scroll-smooth custom-scrollbar",children:[l.map(s=>e.jsxs("div",{className:`flex flex-col mb-4 ${s.sender==="user"?"items-end":"items-start"}`,children:[e.jsx("div",{className:`
                                    max-w-[85%] px-4 py-3 rounded-2xl text-sm leading-relaxed shadow-sm
                                    ${s.sender==="user"?"bg-violet-600 text-white rounded-br-none":"bg-white dark:bg-slate-700 text-slate-700 dark:text-slate-200 rounded-bl-none border border-slate-100 dark:border-slate-600"}
                                `,children:s.text}),s.options&&e.jsx("div",{className:"flex flex-wrap gap-2 mt-3 animate-fade-in",children:s.options.map(t=>e.jsx("button",{onClick:()=>g(t),className:"text-xs py-1.5 px-3 bg-white dark:bg-slate-700 border border-violet-200 dark:border-slate-600 text-violet-600 dark:text-violet-300 rounded-full hover:bg-violet-50 dark:hover:bg-slate-600 hover:scale-105 transition-all shadow-sm",children:t},t))})]},s.id)),n&&e.jsxs("div",{className:"flex items-center gap-1.5 ml-2 mb-4 bg-white dark:bg-slate-700 p-3 rounded-2xl rounded-bl-none w-fit shadow-sm border border-slate-100 dark:border-slate-600",children:[e.jsx("div",{className:"w-1.5 h-1.5 bg-slate-400 rounded-full animate-bounce [animation-delay:-0.3s]"}),e.jsx("div",{className:"w-1.5 h-1.5 bg-slate-400 rounded-full animate-bounce [animation-delay:-0.15s]"}),e.jsx("div",{className:"w-1.5 h-1.5 bg-slate-400 rounded-full animate-bounce"})]}),e.jsx("div",{ref:c})]}),e.jsx("div",{className:"p-3 bg-white dark:bg-slate-900 border-t border-slate-100 dark:border-slate-800",children:e.jsx("p",{className:"text-xs text-center text-slate-400",children:"Selecciona una opci√≥n para continuar"})})]}),e.jsxs("button",{onClick:u,className:`
                    group relative flex items-center justify-center w-14 h-14 rounded-full 
                    bg-violet-600 hover:bg-violet-700 text-white shadow-lg shadow-violet-500/30 
                    transition-all duration-300 hover:scale-110
                    ${r?"rotate-90 scale-0 opacity-0 hidden":"scale-100 opacity-100"}
                `,"aria-label":"Chatbot",children:[!b&&x&&e.jsxs("span",{className:"absolute top-0 right-0 -mt-1 -mr-1 flex h-4 w-4",children:[e.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"}),e.jsx("span",{className:"relative inline-flex rounded-full h-4 w-4 bg-red-500 text-[10px] items-center justify-center",children:"1"})]}),e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-7 h-7",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})})]})]})};export{y as default};
